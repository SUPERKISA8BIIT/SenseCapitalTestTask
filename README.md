# Описание API
  **Внимание!! для аутентификации и корректной работы API, при отправке запроса должен добавляться header AccessToken, являющийся уникальным ключом игрока, который этот запрос отправляет.**
## POST /api/Game
**Сигнатура метода**: public IActionResult PostTurn(Game game)<br>
 > Метод для создания игры. Инициализирует пустое игровое поле. Возвращает Id игры, который будет нужен для последующего геймплея. 

<br>

 ## POST /api/Game/{id}/accept
 **Сигнатура метода**:  public IActionResult PostTurn(string id)
 > Матод для принятия игры вторым игроком. Для корректной работы метода, второму игроку нужно вставить в параметр маршрутизации Id игры, который был возвращен методом создания игры. Возвращает true или false в зависимости от успешного или неуспешного принятия игры.

<br>

 ## PUT /api/Game/{id}
 **Сигнатура метода**:   public IActionResult PutTurnById(string id, Game game)
 >Метод, осуществляющий ход в игре. Игрок, чей черед ходить настал, изменяет значение поля (field) в клетке, которая его интересует, на true, если он играет за крестиков, и на false, если за ноликов. Первый ход **всегда** делают крестики. Ходить за одну и ту же команду два раза подряд нельзя. Поле IsFinished отвечает за то, завершена игра или нет. Метод возвращает объект игры с измененным игровым полем и, при победе или ничьей, с измененным полем IsFinished.

<br>

## DELETE /api/Game/{id}
**Сигнатура метода**: public IActionResult DeleteGame(string id)
>Метод, удаляющий игру из базы данных. Возвращает true или false в зависимости от успешности удаления.

<br>

## GET /api/Game
**Сигнатура метода**:  public IActionResult GetGames()
>Отображает все игры, хранящиеся в базе данных. Возвращает список игр.

<br>

## GET /api/Game/{id}
**Сигнатура метода**:  public IActionResult GetGameById(string id)
>Отображает игру по id. Возвращает игру.

<br>


# Пример игровой сессии
**Создание игры**:

>Первый игрок, играющий за крестиков, вызывает метод PostTurn, предварительно добавив в header свой AccessToken, который является его ключом. Вызвав этот метод, ему возвращается Id игры, с помощью которого второй игрок сможет подключиться именно к этой игре. <br>
Второй игрок, предварительно добавив в header свой AccessToken, который является его ключом, вставляет id игры и отправляет запрос. Ему возвращается true, что подтверждает, что игрок подключился по правильному id. В обратном случае, ему возвращается false. <br>
Первый игрок изменяет значение одной из ячеек поля (field) на false, т.к. первый игрок играет за крестиков. После отправки запроса первым игроком, второй игрок вызывает метод GetGameById чтобы получить обновленную версию поля. После этого, он меняет одно из значений null ячеек поля на true, что эквивалентно нолику в логике игры. Поля со значением false или true изменять нельзя. <br>
Каждый ход значение поля IsFinished пересчитывается. Если оно имеет значение true, значит игра закончена победой одного из игроков либо ничьёй.

## Пример нескольких ходов игры можно посмотреть  [тут](./assets/Some_of_turns.postman_collection.json)